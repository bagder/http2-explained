# 9. http2 в Firefox

Firefox очень плотно отслеживает черновик спецификации и предоставляет
поддержку тестовой http2 реализации уже многие месяцы. За время разработки
протокола http2 клиенты и серверы должны договориться о том, какую версию
черновика протокола они реализовали, что делает несколько раздражительным
запуск тестов. Просто проверьте, что клиент и сервер согласовали, какую версию
черновика протокола они реализовали.

## 9.1. Сначала убедитесь, что он включён

В версиях, начиная с Firefox 35, выпущенной 13 января 2015 года, http2 включён
по умолчанию.

Введите 'about:config' в адресной строке и найдите опцию
'network.http.spdy.enabled.http2draft'. Убедитесь, что она установлена в
*true*.  Firefox 36 добавил ещё один флаг конфигурации, называемый
'network.http.spdy.enabled.http2', который также имеет значение *true* по
умолчанию. Последний контролирует финальную версию http2, в то время как первая
контролирует черновые версии http2. Обе включены по умолчанию, начиная с
Firefox 36.

## 9.2. Только TLS

Помните, что Firefox реализовывает только http2 поверх TLS. Вы увидите работу
http2 в Firefox, только когда перейдёте на https:// сайты, которые поддерживают
http2.

## 9.3. Прозрачно!

![transparent http2 use](https://raw.githubusercontent.com/bagder/http2-explained/master/images/firefox-screenshot.png)

Ни один элемент нигде в интерфейсе не скажет, что вы работаете по http2. Вы не
сможете это так просто понять. Есть лишь один способ узнать это, включив
«Веб-разработка->Сеть», проверить заголовки ответа и увидеть, что вы получили
от сервера. Отклик содержит что-то о «HTTP/2.0» и Firefox вставляет свой
заголовок с названием «X-Firefox-Spdy», как показано на этом, уже устаревшем
скриншоте.

Заголовки, которые вы увидите в сетевых инструментах, когда общаетесь по http2,
конвертируются из бинарного формата http2 в похожие на старые HTTP1.x
заголовки.

## 9.4. Визуализируйте HTTP/2

Существуют плагины для Firefox, которые помогает отобразить то, что сайт
использует http2. Один из них называется [«Индикатор
SPDY»](https://addons.mozilla.org/en-US/firefox/addon/http2-indicator/).
